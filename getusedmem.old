#!/usr/bin/python

# Import
import os
import string
#import antigravity

# Global variables
usedMemCrit = 3.50

memData = os.popen("egrep 'Mem' /proc/meminfo").read()
cachedData = os.popen("egrep 'Cached' /proc/meminfo -m 1").read()

memDataList = memData.split('\n')

# Leave only the digits of memTotal
memTotal = memDataList[0].replace(" ", "")
memTotal = memTotal.replace("MemTotal:", "")
memTotal = memTotal.replace("kB", "")

# Leave only the digits of memFree
memFree = memDataList[1].replace(" ", "")
memFree = memFree.replace("MemFree:", "")
memFree = memFree.replace("kB", "")

# Leave only the digits of cached
cached = cachedData.replace(" ", "")
cached = cached.replace("Cached:", "")
cached = cached.replace("kB", "")

# Get usedMem
usedMem = int(memTotal) - int(memFree) - int(cached)

usedMem = usedMem - 90000
usedMemInGB = usedMem / float(1024) / float(1024)
usedMemInGB = round(usedMemInGB, 2)

print(str(usedMemInGB) + "GB RAM used\n")

if usedMemInGB > usedMemCrit:
    print("#FF000")
